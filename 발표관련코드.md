## 1. í´ë” êµ¬ì¡°

```plaintext
ğŸ“¦ src
â”£ ğŸ“‚ components   # ì¬ì‚¬ìš© ê°€ëŠ¥í•œ UI ì»´í¬ë„ŒíŠ¸
â”£ ğŸ“‚ pages        # ê° í˜ì´ì§€ (Home, Login, SignUp ë“±)
â”£ ğŸ“‚ services     # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ (íšŒì›ê°€ì…, ë¡œê·¸ì¸ ë“±)
â”£ ğŸ“‚ api          # API í˜¸ì¶œ ê´€ë ¨ ì½”ë“œ
â”£ ğŸ“‚ constants    # ê³µí†µ ì‚¬ìš©ë˜ëŠ” ìƒìˆ˜
â”£ ğŸ“‚ utils        # ê³µí†µ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”£ ğŸ“‚ css          # ìŠ¤íƒ€ì¼ íŒŒì¼
â”— ğŸ“œ app.js       # ë¼ìš°íŒ… ë° ì´ˆê¸°í™” ë¡œì§
â”— ğŸ“œ routes.js    # ë¼ìš°íŒ… ê°ì²´
```

## 2. ë Œë”ë§ ê³¼ì •

```HTML
<!DOCTYPE html>
<html lang="ko-KR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ì˜¤í”ˆ ë§ˆì¼“ ì„œë¹„ìŠ¤</title>
    <link rel="stylesheet" href="/src/css/style.css" />
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/src/app.js"></script>
  </body>
</html>
```

```javascript
const ROUTES = {
  HOME: "/",
  LOGIN: "/login",
  PRODUCT: "/product/:id",
  SIGNUP: "/signup",
  NOT_FOUND: "404",
};
const routes = {
  [ROUTES.HOME]: Home,
  [ROUTES.LOGIN]: Login,
  [ROUTES.PRODUCT]: ProductDetail,
  [ROUTES.SIGNUP]: SignUp,
};
// DOM ì—…ë°ì´íŠ¸ í•¨ìˆ˜
const updateDOM = (html) => {
  const app = document.getElementById("app");
  app.innerHTML = "";
  app.insertAdjacentHTML("afterbegin", html);
};
// ë™ì  ê²½ë¡œ ì²˜ë¦¬ í•¨ìˆ˜
const handleDynamicRoute = async (path) => {
  const dynamicMatch = path.match(/^\/product\/(\d+)$/);
  // ì²« ë²ˆì§¸ ìš”ì†Œ: ì •ê·œì‹ê³¼ ë§¤ì¹­ëœ ì „ì²´ ë¬¸ìì—´ ex ) "/product/123"
  // ë‘ ë²ˆì§¸ ìš”ì†Œ: ì •ê·œì‹ì˜ ìº¡ì²˜ ê·¸ë£¹ì— ë§¤ì¹­ëœ ê°’ë“¤ ex ) "ìƒí’ˆ ID"
  if (dynamicMatch) {
    const productId = dynamicMatch[1];
    const render = routes[ROUTES.PRODUCT];
    const html = await render(productId);
    updateDOM(html);
    return true;
  }
  return false;
};
// ë¡œê·¸ì¸ ê²½ë¡œ ì²˜ë¦¬ í•¨ìˆ˜
const handleLoginRedirect = () => {
  const refreshToken = getCookie(COOKIE_KEYS.REFRESH_TOKEN);
  if (refreshToken) {
    alert("ì´ë¯¸ ë¡œê·¸ì¸ëœ ì‚¬ìš©ìì…ë‹ˆë‹¤. ë©”ì¸ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.");
    window.location.href = ROUTES.HOME;
    return true;
  }
  return false;
};
// ë¼ìš°í„° í•¨ìˆ˜
export const router = async () => {
  const path = window.location.pathname;

  // ë¡œê·¸ì¸ ê²½ë¡œ ì²˜ë¦¬
  if (path === ROUTES.LOGIN && handleLoginRedirect()) return;
  if (path === ROUTES.SIGNUP && handleLoginRedirect()) return;

  // ë™ì  ê²½ë¡œ ì²˜ë¦¬
  if (await handleDynamicRoute(path)) return;

  // ì •ì  ê²½ë¡œ ì²˜ë¦¬
  const render = routes[path] || routes[ROUTES.NOT_FOUND];
  const html = await render();
  updateDOM(html);
};
// ì´ˆê¸°í™” í•¨ìˆ˜
const initializeApp = () => {
  // ë¡œë“œë˜ì—ˆì„ ë•Œ
  window.addEventListener("DOMContentLoaded", () => {
    router();
  });

  // ë¸Œë¼ìš°ì € ì•ìœ¼ë¡œ/ë’¤ë¡œê°€ê¸° í–ˆì„ ë•Œ
  window.addEventListener("popstate", router);
};
initializeApp();
```
